---
import { tv } from 'tailwind-variants';

const styles = {
  container: tv({ base: 'fixed mt-4 rounded-full top-0 left-0 w-full z-50 bg-background/80 backdrop-blur border-b border-gray-800/30 shadow-md transition-all duration-300' }),
  wrapper: tv({ base: 'max-w-7xl mx-auto flex items-center justify-between px-4 py-2 md:py-3' }),
  logo: tv({ base: 'flex items-center gap-2 font-bold text-lg md:text-xl text-primary-400 tracking-tight select-none' }),
  nav: tv({ base: 'hidden md:flex items-center gap-2 md:gap-4 lg:gap-6' }),
  navLink: tv({ base: 'relative px-3 py-2 rounded-lg font-medium text-sm md:text-base text-gray-100 hover:text-primary-400 transition duration-200 hover:bg-gray-800/60 focus:outline-none focus:ring-2 focus:ring-primary-400 animate-fade-in-up' }),
  navNew: tv({ base: 'ml-1 px-2 py-0.5 rounded-full bg-primary-500 text-xs text-white font-semibold animate-pulse' }),
  hamburger: tv({ base: 'flex md:hidden items-center justify-center w-10 h-10 rounded-full hover:bg-gray-800/60 transition group cursor-pointer' }),
  bar: tv({ base: 'block w-6 h-0.5 my-1 bg-gray-200 rounded-full transition-all duration-300 group-hover:bg-primary-400' })
};

const navItems = [
  { name: 'Home', href: '/' },
  { name: 'Projects', href: '/projects', new: true },
  { name: 'Services', href: '/services' },
  { name: 'Resources', href: '/resources', new: true },
  { name: 'Blog', href: '/blog' },
  { name: 'About', href: '/about' },
  { name: 'Contact', href: '/contact' }
];
---

<header class={styles.container()}>
  <div class={styles.wrapper()}>
    <!-- Logo/Title -->
    <a href="/" class={styles.logo()}>
      <span class="animate-pulse">&#9679;</span>
      Desir<span class="text-primary-500">Tech</span>
    </a>

    <!-- Desktop Navigation -->
    <nav class={styles.nav()} aria-label="Main navigation">
      {navItems.map(item => (
        <a href={item.href} class={styles.navLink()} tabindex="0">
          {item.name}
          {item.new && <span class={styles.navNew()}>New</span>}
        </a>
      ))}
    </nav>

    <!-- Static Hamburger for Mobile -->
    <div class={styles.hamburger()} aria-label="Menu" tabindex="0">
      <span class={styles.bar()}></span>
      <span class={styles.bar()}></span>
      <span class={styles.bar()}></span>
    </div>
  </div>
</header>
    <div class={styles.hamburger()} aria-label="Menu" tabindex="0">
      <span class={styles.bar()}></span>
      <span class={styles.bar()}></span>
      <span class={styles.bar()}></span>
                </details>
                <details class="sr-only">
                  <summary>Toggel theme</summary>
                </details>
            </details>
            <a href="/contact" class="hidden sm:inline-flex rounded-full">Get in Touch</a>
          </div>
        </div>
      </motion.div>
    </div>
  </header>
  